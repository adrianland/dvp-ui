<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 me-0 px-3 fs-6" href="#">Hello <h3>{{fullName}}</h3></a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-bs-toggle="collapse"
        data-bs-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
    <div class="navbar-nav">
        <div class="nav-item text-nowrap">
            <a style="background: red;
          color: #fff;
          border-radius: 4px;
          margin: 10px;" class="nav-link px-3 cursor-pointer" (click)="logout()">Sign out</a>
        </div>
    </div>
</header>



<div class="container-fluid">
    <div class="row">

        <main class="col-md-9 ms-sm-auto col-lg-12 px-md-4">
            <div class="chartjs-size-monitor">
                <div class="chartjs-size-monitor-expand">
                    <div class=""></div>
                </div>
                <div class="chartjs-size-monitor-shrink">
                    <div class=""></div>
                </div>
            </div>
            <div
                class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
                <h1 class="h2">Dashboard</h1>
                <div class="example-button-row">
                    <!-- Button trigger modal -->
                    <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                        Crearte person
                    </button>
                </div>
            </div>

            <h2>Employee List</h2><br>
            <div class="table-responsive">
                <table class="table table-striped table-sm">
                    <thead>
                        <tr>
                            <th scope="col">Name</th>
                            <th scope="col">LastName</th>
                            <th scope="col">Email</th>
                            <th scope="col">Document Type</th>
                            <th scope="col">Document Number</th>
                            <th scope="col">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let person of persons">
                            <td>{{person.Name}}</td>
                            <td>{{person.LastName}}</td>
                            <td>{{person.Email}}</td>
                            <td>{{person.DocumentType}}</td>
                            <td>{{person.DocumentNumber}}</td>
                            <td>
                                <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal" class="btn btn-info" (click)="setEditPerson(person.Id)">Edit</button>
                                <button type="button" class="btn btn-danger" (click)="deletePerson(person.Id)">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Create Person</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <div
                    class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-5 pb-2 mb-3 border-bottom">
                    <div class="container-fluid">
                        <div class="row">
                            <div class="card-body">
                                <div class="col-md-9 ms-ms-auto col-lg-8 px-md-4">
                                    <form [formGroup]="checkoutForm">

                                        <div class="row">
                                            <div class="col-md-4" hidden="true">
                                                <mat-form-field class="example-full-width">
                                                    <input matInput type="text" id="id" formControlName="id">
                                                </mat-form-field>
                                            </div>
                                            <div class="mb-3">
                                                <label for="name" class="form-label">UserName</label>
                                                <input type="email" class="form-control" id="name"
                                                    aria-describedby="email" formControlName="name" placeholder="Name">
                                                <small
                                                    *ngIf="checkoutForm.controls['name'].dirty && checkoutForm.hasError('required','name')"
                                                    class="text-danger">*Name is required*</small>
                                            </div>
                                            <div class="mb-3">
                                                <label for="lastName" class="form-label">Last name</label>
                                                <input type="lastName" class="form-control" id="lastName"
                                                    aria-describedby="lastName" formControlName="lastName"
                                                    placeholder="Last Name">
                                                <small
                                                    *ngIf="checkoutForm.controls['lastName'].dirty && checkoutForm.hasError('required','lastName')"
                                                    class="text-danger">*Last name is required*</small>
                                            </div>
                                            <div class="mb-3">
                                                <label for="documentType" class="form-label">Document type</label>
                                                <select class="form-select" aria-label="Default select example"
                                                    formControlName="documentType" placeholder="document type">
                                                    <option value="CC">CC</option>
                                                    <option value="TI">TI</option>
                                                    <option value="NIT">NIT</option>
                                                </select>
                                                <small
                                                    *ngIf="checkoutForm.controls['documentType'].dirty && checkoutForm.hasError('required','documentType')"
                                                    class="text-danger">*Document type is required*</small>
                                            </div>
                                            <div class="mb-3">
                                                <label for="documentNumber" class="form-label">Document number</label>
                                                <input type="documentNumber" class="form-control" id="documentNumber"
                                                    aria-describedby="documentNumber" formControlName="documentNumber"
                                                    placeholder="Document number">
                                                <small
                                                    *ngIf="checkoutForm.controls['documentNumber'].dirty && checkoutForm.hasError('required','documentNumber')"
                                                    class="text-danger">*Document number is required*</small>
                                            </div>
                                            <div class="mb-3">
                                                <label for="email" class="form-label">Email</label>
                                                <input type="email" class="form-control" id="email"
                                                    aria-describedby="email" formControlName="email"
                                                    placeholder="Email">
                                                <small
                                                    *ngIf="checkoutForm.controls['email'].dirty && checkoutForm.hasError('required','email')"
                                                    class="text-danger">*email is required*</small>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">

                <div [hidden]="this.isRegister">
                    <button type=" " class="btn btn-success pull-right" type="submit"  data-bs-dismiss="modal"  (click)="editPerson()">Editar</button>
                </div>


                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal"  (click)="cancelEdit()">Close</button>
                <button [hidden]="!this.isRegister" type="button" class="btn btn-primary"
                    (click)="onSubmit()" data-bs-dismiss="modal" >Save</button>
            </div>
        </div>
    </div>
</div>
